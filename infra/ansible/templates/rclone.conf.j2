# templates/rclone.conf.j2
# This configuration is dynamically generated by Ansible.

[ {{ rclone_config_name }} ]
{% if rclone_provider == 's3' %}
# --- S3 Configuration ---
type = s3
provider = Other
env_auth = false
access_key_id = {{ rclone_s3_access_key_id }}
secret_access_key = {{ rclone_s3_secret_access_key }}
endpoint = {{ rclone_s3_endpoint }}
region = {{ rclone_s3_region }}

{% elif rclone_provider == 'mega' %}
# --- Mega.nz Configuration ---
type = mega
user = {{ rclone_mega_user }}
pass = {{ rclone_mega_pass }}

{% elif rclone_provider == 'webdav' %}
# --- WebDAV Configuration ---
type = webdav 
url = {{ rclone_webdav_url }}
vendor = {{ rclone_webdav_vendor }}
user = {{ rclone_webdav_user }}
pass = {{ rclone_webdav_pass }}

{% else %}
# This will intentionally cause an error if the provider is not configured.
# You can add more providers by adding more 'elif' blocks above.
type = not_configured
{% endif %}