tags:
  - Management API
summary: Create Stripe Customer Portal session
description: >
  Creates a Stripe Customer Portal session that allows customers to manage their billing
  information including subscription details, payment methods, billing history, and invoices.
  The portal is hosted by Stripe and provides a secure interface for customers to update
  their billing settings without requiring direct API access.
operationId: createCustomerPortalSession
security:
  - patAuth: []
  - cookieAuth: []
responses:
  '200':
    description: Portal session created
    content:
      application/json:
        schema:
          type: object
          properties:
            portal_url:
              type: string
              format: uri
            request_id:
              type: string
  '401':
    description: Unauthorized
    content:
      application/json:
        schema:
          $ref: '../../components/schemas/Error.yml'
  '404':
    description: No billing account found
    content:
      application/json:
        schema:
          $ref: '../../components/schemas/Error.yml'
  '429':
    description: Rate limit exceeded
    content:
      application/json:
        schema:
          $ref: '../../components/schemas/Error.yml'